#
# Peano4 Makefile
# Generated by Peano's Python API
#
.PHONY: all solver clean


CXX = g++
FC  = gfortran
CXXFLAGS += -std=c++0x -g -O2 -DPeanoDebug=2 -g -O2 -fopenmp  -DDimensions=2 -I. -I../../../src
FCFLAGS  += -g -O2  -g
LDFLAGS  += -fopenmp 
LIBS = -L../../../src -L../../../src/toolbox/loadbalancing -L../../../src/exahype2   -lExaHyPE2Core2d_asserts  -lToolboxLoadBalancing2d_asserts  -lPeano4Core2d_asserts -lTarch_asserts 
DIM  = 2


CXX_SOURCES= AbstractAcoustics.cpp Acoustics.cpp observers/SolverRepository.cpp celldata/AcousticsQ.cpp facedata/AcousticsQ.cpp facedata/AcousticsQNew.cpp facedata/Label.cpp observers/DataRepository.cpp ./observers/CreateGrid2peano4_toolbox_blockstructured_ApplyFunctorOnPatch0.cpp ./observers/CreateGrid2exahype2_grid_AMROnPatch1.cpp ./observers/CreateGrid2exahype2_grid_SetLabels2.cpp ./observers/CreateGrid.cpp ./observers/InitGrid2peano4_toolbox_blockstructured_ApplyFunctorOnPatch0.cpp ./observers/InitGrid2peano4_toolbox_blockstructured_ProjectPatchOntoFaces1.cpp ./observers/InitGrid2peano4_toolbox_blockstructured_BackupPatchOverlap2.cpp ./observers/InitGrid2exahype2_grid_SetLabels3.cpp ./observers/InitGrid.cpp ./observers/CreateGridButPostponeRefinement2peano4_toolbox_blockstructured_ApplyFunctorOnPatch0.cpp ./observers/CreateGridButPostponeRefinement2exahype2_grid_SetLabels1.cpp ./observers/CreateGridButPostponeRefinement.cpp ./observers/PlotSolution2peano4_toolbox_blockstructured_PlotPatchesInPeanoBlockFormat0.cpp ./observers/PlotSolution2exahype2_grid_SetLabels1.cpp ./observers/PlotSolution.cpp ./observers/TimeStep2peano4_toolbox_blockstructured_ReconstructPatchAndApplyFunctor0.cpp ./observers/TimeStep2peano4_toolbox_blockstructured_ProjectPatchOntoFaces1.cpp ./observers/TimeStep2peano4_toolbox_blockstructured_ApplyFunctorOnPatch2.cpp ./observers/TimeStep2exahype2_grid_AMROnPatch3.cpp ./observers/TimeStep2peano4_toolbox_blockstructured_BackupPatchOverlap4.cpp ./observers/TimeStep2exahype2_grid_SetLabels5.cpp ./observers/TimeStep.cpp observers/StepRepository.cpp exaclaw-main.cpp 
FORTRAN_SOURCES= /home/marion/workspace/Projects/ExaClaw/riemann/src/rp1_acoustics_variable_ptwise.f90

CXX_OBJS=$(subst .cpp,.o,$(CXX_SOURCES))
FORTRAN_OBJS=$(subst .f90,.o,$(FORTRAN_SOURCES))

all: solver


%.o: %.cpp
	$(CXX) $(CXXFLAGS) -c -o $@ $<


%.o: %.f90
	$(FC) $(FCFLAGS) -c -o $@ $<

    
solver: $(CXX_OBJS) $(FORTRAN_OBJS)
	$(CXX) $(LDFLAGS) $(FORTRAN_OBJS) $(CXX_OBJS) $(LIBS) -o peano4 

    
clean:
	rm -f $(CXX_OBJS) $(FORTRAN_OBJS)
	rm -f peano4
